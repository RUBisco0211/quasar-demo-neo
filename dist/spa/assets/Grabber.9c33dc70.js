import{Grab as y}from"./index.2657658d.js";import{g as k}from"./CanvasUtils.ab058ff4.js";import{n as L,t as O,K as h,a6 as C,a7 as w,S as D}from"./particle.24068059.js";import{E}from"./ExternalInteractorBase.0b0fb1e9.js";import"./index.93b2c2bb.js";import"./OptionsColor.75eea803.js";const M=0;function G(r,t,n,i,e,o){k(r,n,i),r.strokeStyle=L(e,o),r.lineWidth=t,r.stroke()}function P(r,t,n,i,e){r.canvas.draw(o=>{var s;const c=t.getPosition();G(o,(s=t.retina.linksWidth)!=null?s:M,c,e,n,i)})}const q="grab",H=0,R=0;class F extends E{constructor(t){super(t)}clear(){}init(){const t=this.container,n=t.actualOptions.interactivity.modes.grab;!n||(t.retina.grabModeDistance=n.distance*t.retina.pixelRatio)}interact(){var s,l;const t=this.container,n=t.actualOptions,i=n.interactivity;if(!i.modes.grab||!i.events.onHover.enable||t.interactivity.status!==O)return;const e=t.interactivity.mouse.position;if(!e)return;const o=t.retina.grabModeDistance;if(!o||o<H)return;const c=t.particles.quadTree.queryCircle(e,o,a=>this.isEnabled(a));for(const a of c){const v=a.getPosition(),b=h(v,e);if(b>o)continue;const d=i.modes.grab.links,g=d.opacity,u=g-b*g/o;if(u<=R)continue;const m=(l=d.color)!=null?l:(s=a.options.links)==null?void 0:s.color;if(!t.particles.grabLineColor&&m){const f=i.modes.grab.links;t.particles.grabLineColor=C(m,f.blink,f.consent)}const p=w(a,void 0,t.particles.grabLineColor);!p||P(t,a,p,u,e)}}isEnabled(t){var o;const n=this.container,i=n.interactivity.mouse,e=((o=t==null?void 0:t.interactivity)!=null?o:n.actualOptions.interactivity).events;return e.onHover.enable&&!!i.position&&D(q,e.onHover.mode)}loadModeOptions(t,...n){t.grab||(t.grab=new y);for(const i of n)t.grab.load(i==null?void 0:i.grab)}reset(){}}export{F as Grabber};
