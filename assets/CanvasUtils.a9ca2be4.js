import{n as T}from"./particle.3af7776a.js";const c={x:0,y:0};function B(r,a,t){r.beginPath(),r.moveTo(a.x,a.y),r.lineTo(t.x,t.y),r.closePath()}function C(r,a,t){r.fillStyle=t!=null?t:"rgba(0,0,0,0)",r.fillRect(c.x,c.y,a.width,a.height)}function I(r,a,t,e){!t||(r.globalAlpha=e,r.drawImage(t,c.x,c.y,a.width,a.height),r.globalAlpha=1)}function E(r,a){r.clearRect(c.x,c.y,a.width,a.height)}function H(r){var k,P,b,R,S;const{container:a,context:t,particle:e,delta:s,colorStyles:i,backgroundMask:n,composite:l,radius:o,opacity:u,shadow:f,transform:h}=r,m=e.getPosition(),F=0,y=e.rotation+(e.pathRotation?e.velocity.angle:F),p={sin:Math.sin(y),cos:Math.cos(y)},w=1,d={a:p.cos*((k=h.a)!=null?k:w),b:p.sin*((P=h.b)!=null?P:w),c:-p.sin*((b=h.c)!=null?b:w),d:p.cos*((R=h.d)!=null?R:w)};t.setTransform(d.a,d.b,d.c,d.d,m.x,m.y),n&&(t.globalCompositeOperation=l);const D=e.shadowColor;f.enable&&D&&(t.shadowBlur=f.blur,t.shadowColor=T(D),t.shadowOffsetX=f.offset.x,t.shadowOffsetY=f.offset.y),i.fill&&(t.fillStyle=i.fill);const W=0,x=(S=e.strokeWidth)!=null?S:W;t.lineWidth=x,i.stroke&&(t.strokeStyle=i.stroke);const g={container:a,context:t,particle:e,radius:o,opacity:u,delta:s,transformData:d,strokeWidth:x};O(g),v(g),A(g),t.globalCompositeOperation="source-over",t.resetTransform()}function A(r){const{container:a,context:t,particle:e,radius:s,opacity:i,delta:n,transformData:l}=r;if(!e.effect)return;const o=a.effectDrawers.get(e.effect);!o||o.draw({context:t,particle:e,radius:s,opacity:i,delta:n,pixelRatio:a.retina.pixelRatio,transformData:{...l}})}function O(r){const{container:a,context:t,particle:e,radius:s,opacity:i,delta:n,strokeWidth:l,transformData:o}=r,u=0;if(!e.shape)return;const f=a.shapeDrawers.get(e.shape);!f||(t.beginPath(),f.draw({context:t,particle:e,radius:s,opacity:i,delta:n,pixelRatio:a.retina.pixelRatio,transformData:{...o}}),e.shapeClose&&t.closePath(),l>u&&t.stroke(),e.shapeFill&&t.fill())}function v(r){const{container:a,context:t,particle:e,radius:s,opacity:i,delta:n,transformData:l}=r;if(!e.shape)return;const o=a.shapeDrawers.get(e.shape);!(o!=null&&o.afterDraw)||o.afterDraw({context:t,particle:e,radius:s,opacity:i,delta:n,pixelRatio:a.retina.pixelRatio,transformData:{...l}})}function L(r,a,t){!a.draw||a.draw(r,t)}function X(r,a,t,e){!a.drawParticle||a.drawParticle(r,t,e)}function Y(r,a,t){return{h:r.h,s:r.s,l:r.l+(a==="darken"?-1:1)*t}}export{I as a,X as b,E as c,H as d,L as e,Y as f,B as g,C as p};
